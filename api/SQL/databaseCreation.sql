CREATE TABLE article(
	code_article VARCHAR(50) PRIMARY KEY,
	date_ajout TIMESTAMP DEFAULT now(),
    date_modification TIMESTAMP,
    prix_vente REAL NOT NULL,
    libelle VARCHAR(255),
    marque VARCHAR(25),
    gender VARCHAR(25)
);

CREATE TABLE tailles(
	id_taille int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	taille VARCHAR(50) NOT NULL
);

CREATE TABLE taille_article(
	id_taille int NOT NULL,
	code_article VARCHAR(50) NOT NULL,
	PRIMARY KEY(id_taille, code_article),
	CONSTRAINT fk_taille FOREIGN KEY (id_taille) REFERENCES tailles(id_taille),
    CONSTRAINT fk_article FOREIGN KEY (code_article) REFERENCES article(code_article)
);

CREATE TABLE commande (
	id_commande int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	code_article VARCHAR(50) NOT NULL,
	quantite INT DEFAULT 1,
	nom_client VARCHAR(100) NOT NULL,
	prenom_client VARCHAR(100) NOT NULL,
	email_client VARCHAR(100) NOT NULL,
	adresse TEXT NOT NULL,
	numero_client bigint NOT NULL,
	commande_date_debut TIMESTAMP DEFAULT now(),
    CONSTRAINT fk_article FOREIGN KEY (code_article) REFERENCES article(code_article)
);

INSERT INTO article(code_article, prix_vente, libelle, marque, gender) VALUES
('WW0WW29773-1A4', 16300,'Tommy Hilfiger Jean Como', 'TOMMY HILFIGER', 'Femme'),
('ERJZT04514-WBT0', 1700,'RED LINE', 'ROXY', 'Femme'),
('30473U-N84', 15200,'LARGE HOLDALL', 'UMBRO', 'Homme'),
('36515-0111', 9200,'Slim Hemmed Short', 'LEVIS', 'Homme'),
('FY9214', 12500,'Adidas Terrex Soulstride Trail Running Shoes', 'ADIDAS', 'Homme'),
('S21447-KK001', 6900,'Champion Low Cut Shoe PH', 'CHAMPION', 'Homme'),
('12152840-RED', 6500,'Jack & jones Sweat', 'JACK & JONES', 'Femme');


INSERT INTO tailles(id_taille, taille) VALUES
(1,'S'),
(2,'M'),
(3,'L'),
(4,'XL'),
(5,'XXL');

INSERT INTO taille_article(id_taille, code_article)
VALUES
(1,'ERJZT04514-WBT0'),
(2,'ERJZT04514-WBT0'),
(3,'ERJZT04514-WBT0'),
(4,'ERJZT04514-WBT0'),
(1,'WW0WW29773-1A4'),
(2,'WW0WW29773-1A4'),

(4,'30473U-N84'),
(2,'36515-0111'),
(3,'36515-0111'),
(5,'36515-0111'),
(2,'FY9214'),
(3,'FY9214'),
(4,'FY9214'),

(2,'S21447-KK001'),
(3,'S21447-KK001'),
(4,'S21447-KK001'),
(1,'12152840-RED'),
(2,'12152840-RED'),
(3,'12152840-RED'),
(4,'12152840-RED'),
(5,'12152840-RED');


INSERT INTO commande(code_article, quantite, nom_client, prenom_client, email_client, adresse, numero_client)
VALUES ('12152840-RED', 1, 'Tighiouart', 'Moncef', 'moncef@gmail.com', '51 Cheraga', 06060600606);